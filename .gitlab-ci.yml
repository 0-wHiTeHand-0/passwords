stages:
  - compile
  - assemble
  - pack

compile:
  stage: compile
  script:
    - npm install
    - npm run build
  artifacts:
    paths:
      - ./src/js/Static/*
      - ./src/css/*

assemble:
  stage: assemble
  script:
    - mkdir passwords
    - rsync -r --exclude="vue" --exclude="js" --exclude="scss" src/* passwords
    - rsync -r src/js/Static passwords/js/

pack:
  stage: pack
  script:
    - tar -zcf passwords.tar.gz passwords
  artifacts:
    paths:
      - ./passwords.tar.gz
